-- üì¶ ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏´‡∏•‡∏±‡∏Å
local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer
local RS = game:GetService("ReplicatedStorage")
local TPService = game:GetService("TeleportService")
local Workspace = game:GetService("Workspace")

-- ü™Ñ ‡πÇ‡∏´‡∏•‡∏î UI Library
local DiscordLib = loadstring(game:HttpGet("https://raw.githubusercontent.com/pndxvo/scr/main/ui.lua"))()
local win = DiscordLib:Window("üçì Fluke Dupe & Build a Zoo ")
local serv = win:Server("Main", "")
local main = serv:Channel("üçç Controls")

-- üåü ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤
local selectedTarget = nil
local selectedIdle = 300000
local Blacklist = {"Wolf_E1", "Kangroo_E1", "Rhino_E1", "Lion_E1", "Gorilla_E1", "Seaturtle", "Okapi", "Needlefish", "Panther", "Butterflyfish"}

----------------------------------------------------------
-- üîÑ Dropdown ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô
----------------------------------------------------------
local targetDropdown = main:Dropdown("Player Name", {"..."}, function(playerName)
    selectedTarget = playerName
end)

local function updatePlayers()
    targetDropdown:Clear()
    targetDropdown:Add("...")
    for _, player in pairs(Players:GetPlayers()) do
        if player ~= LocalPlayer then
            targetDropdown:Add(player.Name)
        end
    end
end
updatePlayers()
Players.PlayerAdded:Connect(updatePlayers)
Players.PlayerRemoving:Connect(updatePlayers)

main:Button("Refresh Players", function()
    updatePlayers()
    selectedTarget = nil
end)

----------------------------------------------------------
-- üîÑ Dropdown ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏Ñ‡πà‡∏≤ Idle Threshold
----------------------------------------------------------
local idleOptions = {"100000","200000","300000","400000","500000","600000","700000","800000","900000","1000000"}
local idleDropdown = main:Dropdown("‡∏ô‡πâ‡∏≠‡∏¢‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏ó‡πà‡∏≤‡πÑ‡∏´‡∏£‡πà‡∏à‡∏∞‡πÑ‡∏°‡πà‡πÄ‡∏ó‡∏£‡∏î", idleOptions, function(value)
    selectedIdle = tonumber(value)
end)
selectedIdle = 1 -- ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô

----------------------------------------------------------
-- üìå ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Teleport ‡πÑ‡∏õ‡∏´‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢
----------------------------------------------------------
local function TeleportToTarget(targetPlayer)
    if not targetPlayer or not targetPlayer.Character or not targetPlayer.Character:FindFirstChild("HumanoidRootPart") then
        DiscordLib:Notification("‚ùå Error", "‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°", "‡∏ï‡∏Å‡∏•‡∏á")
        return false
    end
    LocalPlayer.Character.HumanoidRootPart.CFrame = targetPlayer.Character.HumanoidRootPart.CFrame
    task.wait(1)
    return true
end

----------------------------------------------------------
-- üîÅ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô QuickSell
----------------------------------------------------------
local function SetQuickSell()
    RS:WaitForChild("Remote"):WaitForChild("FishingRE"):FireServer("SetEggQuickSell", {
        ["1"] = "\255",
        Diamond = false,
        ["3"] = true,
        ["2"] = false,
        ["5"] = false,
        ["4"] = false,
        ["6"] = false,
        Golden = false,
        Electirc = false,
        Fire = false,
        Dino = false,
        Snow = false
    })
end

----------------------------------------------------------
-- ü•ö ‡∏™‡πà‡∏á‡πÑ‡∏Ç‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏ö‡∏ö Kick
----------------------------------------------------------
local function GiftAllEggsKick()
    if not selectedTarget then
        DiscordLib:Notification("‚ùå Error", "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô", "‡∏ï‡∏Å‡∏•‡∏á")
        return
    end
    local target = Players:FindFirstChild(selectedTarget)
    if not target then return end

    SetQuickSell()
    task.wait(3)

    if not TeleportToTarget(target) then return end

    for _, egg in pairs(LocalPlayer.PlayerGui.Data.Egg:GetChildren()) do
        RS.Remote.CharacterRE:FireServer("Focus", egg.Name)
        task.wait(0.1)
        RS.Remote.GiftRE:FireServer(target)
        task.wait(0.3)
        print("‡∏™‡πà‡∏á‡πÑ‡∏Ç‡πà: " .. egg.Name)
    end
    DiscordLib:Notification("ü•ö ‡∏™‡πà‡∏á‡πÑ‡∏Ç‡πà", "‡∏™‡πà‡∏á‡πÑ‡∏Ç‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!", "‡∏ï‡∏Å‡∏•‡∏á")
end
main:Button("ü•ö ‡∏™‡πà‡∏á‡πÑ‡∏Ç‡πà‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏îDupe (Kick)", GiftAllEggsKick)

----------------------------------------------------------
-- üê∂ ‡∏™‡πà‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏ö‡∏ö Kick + Idle Threshold
----------------------------------------------------------
local function GiftAllPetsKickIdle()
    if not selectedTarget then
        DiscordLib:Notification("‚ùå Error", "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô", "‡∏ï‡∏Å‡∏•‡∏á")
        return
    end
    local target = Players:FindFirstChild(selectedTarget)
    if not target then return end

    if not TeleportToTarget(target) then return end

    local deletePets = {}
    for _, pet in pairs(Workspace.Pets:GetChildren()) do
        pcall(function()
            if pet:IsA("Model") and pet:GetAttribute("UserId") == LocalPlayer.UserId then
                if pet.RootPart and pet.RootPart:FindFirstChild("GUI") and pet.RootPart.GUI:FindFirstChild("IdleGUI") then
                    local petspeedText = pet.RootPart.GUI.IdleGUI.Speed.Text
                    local number = tonumber((petspeedText:gsub("%D", "")))
                    if number and number >= selectedIdle then
                        table.insert(deletePets, pet.Name)
                    end
                end
            end
        end)
    end

    for _, petName in ipairs(deletePets) do
        RS.Remote.CharacterRE:FireServer("Del", petName)
        task.wait(0.1)
    end

    for _, pet in pairs(LocalPlayer.PlayerGui.Data.Pets:GetChildren()) do
        if not table.find(Blacklist, pet:GetAttribute("T")) then
            RS.Remote.CharacterRE:FireServer("Focus", pet.Name)
            task.wait(0.1)
            RS.Remote.GiftRE:FireServer(target)
            task.wait(0.3)
            print("‡∏™‡πà‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á: " .. pet.Name)
        end
    end

    DiscordLib:Notification("üê∂ ‡∏™‡πà‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á", "‡∏™‡πà‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!", "‡∏ï‡∏Å‡∏•‡∏á")
    TPService:TeleportToPlaceInstance(game.PlaceId, game.JobId)
end
main:Button("üê∂ ‡∏™‡πà‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ï‡∏±‡πâ‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏≠‡∏áIdle  (Kick)", GiftAllPetsKickIdle)

----------------------------------------------------------
-- üçà ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏î‡∏π‡∏õ‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô
----------------------------------------------------------
local function DupDurian()
    if not selectedTarget then
        DiscordLib:Notification("‚ùå Error", "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô", "‡∏ï‡∏Å‡∏•‡∏á")
        return
    end
    local target = Players:FindFirstChild(selectedTarget)
    if not target then return end
    RS.Remote.GiftRE:FireServer(target)
    task.wait(1)
    TPService:TeleportToPlaceInstance(game.PlaceId, game.JobId)
end
main:Button("üçà Dupe Durian‡∏à‡∏∞‡∏ï‡πâ‡∏≠‡∏á‡∏ñ‡∏∑‡∏≠‡πÅ‡∏•‡πâ‡∏ß‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏Å‡∏•‡πâ‡πÜ", function()
    DiscordLib:Notification("DupeDurian", "‡πÄ‡∏£‡∏¥‡πà‡∏°DupeDurian...", "‡∏ï‡∏Å‡∏•‡∏á")
    DupDurian()
end)

----------------------------------------------------------
-- üê∑ ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô Auto Gift (‡πÉ‡∏ä‡πâ‡πÇ‡∏Ñ‡πâ‡∏î‡πÄ‡∏î‡∏¥‡∏° + Idle Dropdown)
----------------------------------------------------------
local function AutoGiftPLR()
    if not selectedTarget then
        DiscordLib:Notification("‚ùå Error", "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏Å‡πà‡∏≠‡∏ô", "‡∏ï‡∏Å‡∏•‡∏á")
        return
    end

    local PLRNAME = selectedTarget
    local target = Players:FindFirstChild(PLRNAME)
    if not target then return end

    repeat task.wait() until LocalPlayer:GetAttribute("DinoEventOnlineTime") ~= nil

    -- Sell All Pets
    local args = {"SellAll","All","Pet"}
    RS.Remote.PetRE:FireServer(unpack(args))
    task.wait(1)

    -- QuickSell
    SetQuickSell()
    task.wait(3)

    -- Fire ProximityPrompt
    for _,v in pairs(workspace.PlayerBuiltBlocks:GetChildren()) do
        if v:FindFirstChild("RootPart") and v.RootPart:FindFirstChild("ProximityPrompt") then
            fireproximityprompt(v.RootPart.ProximityPrompt)
            task.wait(0.1)
        end
    end
    task.wait(7)

    -- ‡∏•‡∏ö‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á Idle ‚â• selectedIdle
    local deletePets = {}
    for _, v in pairs(workspace.Pets:GetChildren()) do
        pcall(function()
            if v:IsA("Model") and v:GetAttribute("UserId") == LocalPlayer.UserId then
                if not v.RootPart:FindFirstChild("GUI/BigPetGUI") then
                    local petspeed = v.RootPart["GUI/IdleGUI"].Speed.Text
                    local number = tonumber((petspeed:gsub("%D","")))
                    if number and number >= selectedIdle then
                        table.insert(deletePets,v.Name)
                    end
                end
            end
        end)
    end

    for _, petName in ipairs(deletePets) do
        RS.Remote.CharacterRE:FireServer("Del", petName)
    end

    -- Teleport ‡πÑ‡∏õ‡∏´‡∏≤‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô
    LocalPlayer.Character.HumanoidRootPart.CFrame = target.Character.HumanoidRootPart.CFrame
    task.wait(1)

    -- ‡∏™‡πà‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á
    for _,v in pairs(LocalPlayer.PlayerGui.Data.Pets:GetChildren()) do
        if not table.find(Blacklist,v:GetAttribute("T")) then
            RS.Remote.CharacterRE:FireServer("Focus",v.Name)
            task.wait(0.1)
            RS.Remote.GiftRE:FireServer(target)
            task.wait(0.3)
        end
    end

    TPService:TeleportToPlaceInstance(game.PlaceId, game.JobId)
end
main:Button("üê∑ ‡∏ó‡∏≥‡∏≠‡∏∞‡πÑ‡∏£‡πÄ‡∏™‡∏£‡πá‡∏à‡∏Å‡∏î‡∏≠‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡∏à‡∏∞‡πÄ‡∏ï‡∏∞ ", AutoGiftPLR)

----------------------------------------------------------
-- ‚úÖ ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏£‡∏∞‡∏ö‡∏ö‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô
----------------------------------------------------------
DiscordLib:Notification("Fruit & Pet System Loaded", "‡∏£‡∏∞‡∏ö‡∏ö‡∏î‡∏π‡∏õ‡∏ó‡∏∏‡πÄ‡∏£‡∏µ‡∏¢‡∏ô, ‡∏™‡πà‡∏á‡πÑ‡∏Ç‡πà, ‡∏™‡πà‡∏á‡∏™‡∏±‡∏ï‡∏ß‡πå‡πÄ‡∏•‡∏µ‡πâ‡∏¢‡∏á ‡πÅ‡∏•‡∏∞ Auto Gift ‡∏û‡∏£‡πâ‡∏≠‡∏° Idle Threshold UI ‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß!", "‡∏ï‡∏Å‡∏•‡∏á")
